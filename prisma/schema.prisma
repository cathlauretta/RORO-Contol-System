generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model Employee {
  employee_id   String   @id @default("employee")
  name          String
  gender        String
  date_of_birth DateTime @db.Date
  address       String
  role          String
  username      String   @unique
  password      String
  Report        Report[]
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model Report {
  report_id          String   @id(map: "T_pkey")
  date               DateTime @db.Date
  room_repaired      String
  eic                String
  repair_description String
  Employee           Employee @relation(fields: [eic], references: [employee_id], onDelete: Cascade)
  Room               Room     @relation(fields: [room_repaired], references: [room_id], onDelete: Cascade)
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model Room {
  room_id         String   @id @default("room")
  tipe            String
  floor           Int      @db.SmallInt
  price           Int
  occupied_status Boolean  @default(false)
  condition       String?
  flag            Boolean  @default(false)
  image           String?
  repair_notes    String?
  Report          Report[]
}
